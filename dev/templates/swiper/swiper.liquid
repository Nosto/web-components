<script type="module" src="../src/main.ts"></script>
<link rel="stylesheet" href="swiper/swiper.css">
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>

  <div class="block__recommendation {{ divId }}">
    <span class="reco-title">{{ title }}</span>
    <div class="products">
        <nosto-swiper 
            container-selector=".swiper">
            <script type="application/json" swiper-config>
            {
                "direction": "horizontal",
                "loop": true,
                "slidesPerView": 3,
                "spaceBetween": 30,
                "modules": ["navigation", "pagination"],
                "navigation": {
                    "nextEl": ".swiper-button-next",
                    "prevEl": ".swiper-button-prev"
                }
            }
            </script>
            <div class="swiper">
                <div class="swiper-wrapper">
                    {%- for product in products %}
                        <nosto-product product-id="{{ product.productId }}" reco-id="{{ resultId }}" class="nosto__product swiper-slide">
                        <div class="nosto__product-image">
                            <img src="{{ product.imageUrl }}" alt="{{ product.name }}" width="300" height="300">
                        </div>
                        <div class="nosto__product-details--card">
                            <div class="nosto__product-name">{{ product.name }}</div>
                            <div class="nosto__product-price">EUR {{ product.price }}</div>
                            <div class="nosto__product-skus">
                            <nosto-sku-options name="colors">
                                <span n-option n-skus="123,145" selected>Black</span>
                                <span n-option n-skus="223,234,245">White</span>
                                <span n-option n-skus="334,345">Blue</span>
                            </nosto-sku-options>
                            <nosto-sku-options name="sizes">
                                <span n-option n-skus="123,223">L</span>
                                <span n-option n-skus="234,334">M</span>
                                <span n-option n-skus="145,245,345">S</span>
                            </nosto-sku-options>
                            </div>
                            <button class="btn__atc" n-atc>Add to cart</button>
                        </div>
                        </nosto-product>
                    {%- endfor %}
                </div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
            </div>
        </nosto-swiper>
    </div>
  </div>
