query ProductByHandle($country: CountryCode! $language: LanguageCode! $handle: String!) @inContext(country: $country language: $language) {
  product(handle: $handle) {
    id
    title
    vendor
    description
    encodedVariantExistence
    onlineStoreUrl
    availableForSale
    images(first: 10) {
      nodes {
        altText
        height
        width
        thumbhash
        url
      }
    }
    featuredImage {
      altText
      height
      width
      thumbhash
      url
    }
    options(first: 50) {
      name
      optionValues {
        firstSelectableVariant {
          availableForSale
          title
          id
          image {
            altText
            url
            width
            height
            thumbhash
          }
          price {
            currencyCode
            amount
          }
          compareAtPrice {
            currencyCode
            amount
          }
          product {
            onlineStoreUrl
          }
        }
        adjacentVariants(first: 250) {
          id
          title
          availableForSale
          selectedOptions {
            name
            value
          }
          image {
            altText
            url
            width
            height
            thumbhash
          }
          price {
            currencyCode
            amount
          }
          compareAtPrice {
            currencyCode
            amount
          }
        }
        name
        swatch {
          color
          image {
            alt
            id
            mediaContentType
            previewImage {
              url
              width
              height
              altText
              thumbhash
            }
          }
        }
      }
    }
  }
}